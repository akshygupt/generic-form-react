(this["webpackJsonpgeneric-form-react"]=this["webpackJsonpgeneric-form-react"]||[]).push([[0],{22:function(e,t,a){e.exports=a(58)},27:function(e,t,a){},28:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(18),i=a.n(c),o=(a(27),a(28),a(7)),m=a.n(o),u=a(19),s=a(8),d=a.n(s),E=a(20),f=a(3),p=a(1);!function(e){e.SET_VALUE="SET_VALUE",e.SET_TOUCHED="SET_TOUCHED",e.SET_ERROR="SET_ERROR",e.SUBMIT_ATTEMPT="SUBMIT_ATTEMPT",e.SET_INITIAL_VALUE="SET_INITIAL_VALUE"}(n||(n={}));var v={values:{},errors:{},touched:{},submitAttempt:0},T=function(e,t){for(var a={},n=0,r=Object.keys(e);n<r.length;n++){a[r[n]]=t}return a},b=function(e,t){switch(t.type){case n.SET_VALUE:return Object(p.a)({},e,{values:Object(p.a)({},e.values,Object(f.a)({},t.payload.name,t.payload.value))});case n.SET_INITIAL_VALUE:return Object(p.a)({},e,{values:t.payload});case n.SUBMIT_ATTEMPT:return Object(p.a)({},e,{touched:T(e.values,!0),submitAttempt:e.submitAttempt+1});case n.SET_TOUCHED:return Object(p.a)({},e,{touched:Object(p.a)({},e.touched,Object(f.a)({},t.payload.name,t.payload.touched))});case n.SET_ERROR:return Object(p.a)({},e,{errors:t.payload});default:return e}},N={FormState:v,dispatch:function(){}},h=r.createContext(N),S=function(){return r.useContext(h)},y=function(e){var t=r.useReducer(b,v),a=Object(E.a)(t,2),n=a[0],l=a[1];return r.createElement(h.Provider,{value:{FormState:n,dispatch:l}},e.children)},O=function(e){var t=e.action||"#",a=S(),l=a.FormState,c=a.dispatch;return r.useEffect((function(){d()(e.initialValues)||c({type:n.SET_INITIAL_VALUE,payload:e.initialValues})}),[]),r.createElement("form",{noValidate:!0,action:t,className:e.className,onSubmit:function(t){t.preventDefault(),c({type:n.SUBMIT_ATTEMPT});var a={};if(e.validate&&"function"===typeof e.validate&&(a=e.validate(l.values),c({type:n.SET_ERROR,payload:a})),d()(a))return e.onSubmit(l.values)}},e.children)},_=function(e){return r.createElement(y,null,r.createElement(O,e))},A=a(21),R=function(e){e.validate;var t=Object(A.a)(e,["validate"]),a=S(),l=a.FormState,c=a.dispatch,i={value:l.values[e.name]||""},o=function(){if(e.validate&&"function"===typeof e.validate){var t=Object(p.a)({},l.errors,Object(f.a)({},e.name,e.validate(l.values[e.name])));c({type:n.SET_ERROR,payload:t})}};r.useEffect((function(){l.submitAttempt&&o()}),[l.submitAttempt]);return r.createElement("input",Object.assign({},t,{onChange:function(t){c({type:n.SET_VALUE,payload:{name:e.name,value:t.target.value}})},onBlur:function(t){c({type:n.SET_TOUCHED,payload:{name:e.name,touched:!0}}),o()},type:"text"},i))},I=function(e){var t=S().FormState;return t.touched[e.name]&&t.errors[e.name]?r.createElement("div",{className:"error"},t.errors[e.name]):null},g=(a(56),a(57),function(e){return r.createElement("div",{className:"app"},r.createElement("h1",null,"Sign Up"),r.createElement(_,{initialValues:{firstName:"",lastName:"",email:""},onSubmit:function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("values",t),e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:alert(JSON.stringify(t,null,2));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:"form",validate:function(e){var t={};return e.firstName||(t.firstName="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t}},r.createElement("div",{className:"field-group"},r.createElement("label",{className:"label",htmlFor:"firstName"},"First Name"),r.createElement(R,{id:"firstName",name:"firstName",placeholder:"First Name",className:"field"}),r.createElement(I,{name:"firstName"})),r.createElement("div",{className:"field-group"},r.createElement("label",{className:"label",htmlFor:"lastName"},"Last Name"),r.createElement(R,{id:"lastName",name:"lastName",placeholder:"Last Name",className:"field",validate:function(e){var t="";return e||(t="Required"),t}}),r.createElement(I,{name:"lastName"})),r.createElement("div",{className:"field-group"},r.createElement("label",{className:"label",htmlFor:"email"},"Email"),r.createElement(R,{id:"email",name:"email",placeholder:"abc@example.com",className:"field"}),r.createElement(I,{name:"email"})),r.createElement("button",{className:"submit-button",type:"submit"},"Submit")))});var U=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.b2248d27.chunk.js.map